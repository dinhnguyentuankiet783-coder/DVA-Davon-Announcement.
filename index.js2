const { Client, GatewayIntentBits, EmbedBuilder } = require("discord.js");

const client = new Client({
  intents: [
    GatewayIntentBits.Guilds,
    GatewayIntentBits.GuildMessages,
    GatewayIntentBits.MessageContent
  ]
});

const PREFIX = "dv!";

client.once("ready", () => {
  console.log(`âœ… Bot online: ${client.user.tag}`);
});

client.on("messageCreate", async (message) => {
  if (message.author.bot) return;

  // ğŸ“¢ dv!m: BOT NÃ“I THAY
  if (message.content.startsWith("dv!m:")) {
    const text = message.content.slice(5).trim();
    if (!text) return;

    await message.delete().catch(() => {});
    return message.channel.send(text);
  }

  // âŒ dv!x XOÃ TIN NHáº®N BOT
  if (message.content === "dv!x") {
    const messages = await message.channel.messages.fetch({ limit: 15 });
    const botMsg = messages.find(
      (msg) => msg.author.id === client.user.id
    );

    if (!botMsg)
      return message.reply("Bot ChÆ°a Gá»­i Tin Nháº¯n!");

    await botMsg.delete();
    await message.delete().catch(() => {});
  }

  // ğŸ“‹ dv!show HIá»†N Lá»†NH
  if (message.content === "dv!show") {
    const embed = new EmbedBuilder()
      .setColor(0x00ffcc)
      .setTitle("ğŸ“‹ Danh SÃ¡ch Lá»‡nh Bot DVAğŸª½")
      .setDescription(`
1ï¸âƒ£. Bot Chat Thay NgÆ°á»i DÃ¹ng: dv!m: ( Ná»™i Dung )
2ï¸âƒ£. XoÃ¡ Tin Nháº¯n Bot ÄÃ£ Gá»­i: dv!x
3ï¸âƒ£. Hiá»‡n Danh SÃ¡ch Lá»‡nh: dv!show`)
      .setFooter({ text: "DV Bot" });

    return message.reply({ embeds: [embed] });
  }
});

client.login("YOUR_BOT_TOKEN");
